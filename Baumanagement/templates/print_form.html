{% load static %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="{% static 'favicon-48x48.png' %}" sizes="48x48"/>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>

    <style>
        @media print {
            body * {
                visibility: hidden;
            }
            #section-to-print, #section-to-print * {
                visibility: visible;
            }
            #section-to-print {
                position: absolute;
                left: 2mm;
                top: 2mm;
            }
        }
    </style>

    <title>{{ title }}</title>
</head>

<body style="background-color: #f5f5f5;">
<div class="container-fluid">
    <div class="row">

        <button id="save" class="btn btn-success" onclick="save()" type="button" style="display: none;">
            {% translate "Save" %}
        </button>
        <button id="edit" class="btn btn-default" onclick="edit()" type="button" style="display: inline; margin:10px;">
            {% translate "Edit" %}
        </button>
        <button id="print" class="btn btn-default" onclick="window.print()" type="button"
                style="display: inline; margin:10px; margin-left: 0px;">
            {% translate "Print" %}
        </button>

        <div class="click2edit" id="section-to-print">
            {{ html|safe }}
        </div>

        <script>
            var edit = function() {
                $('.click2edit').summernote();
                document.getElementById("save").style = "display: inline; margin:10px;";
                document.getElementById("edit").style = "display: none;";
                document.getElementById("print").style = "display: none;";
            };

            var save = function() {
                var markup = $('.click2edit').summernote('code');
                $('.click2edit').summernote('destroy');
                document.getElementById("save").style = "display: none;";
                document.getElementById("edit").style = "display: inline; margin:10px;";
                document.getElementById("print").style = "display: inline; margin:10px; margin-left: 0px;";
            };
        </script>

    </div>
</div>
</body>
</html>